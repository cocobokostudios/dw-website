<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="https://www.davidwesst.com/_next/static/-9wn_hi6_-Q32OgH9YOcv/pages/_app.js" as="script"/><link rel="preload" href="https://www.davidwesst.com/_next/static/-9wn_hi6_-Q32OgH9YOcv/pages/blog/%5Bid%5D.js" as="script"/><link rel="preload" href="https://www.davidwesst.com/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="https://www.davidwesst.com/_next/static/chunks/framework.e84fa698c7ee940652bd.js" as="script"/><link rel="preload" href="https://www.davidwesst.com/_next/static/chunks/commons.7c101d7f1672b68d7c1c.js" as="script"/><link rel="preload" href="https://www.davidwesst.com/_next/static/runtime/main-98aa3916935decc0cde3.js" as="script"/></head><body><div id="__next"><h1>How to Build ReactJS with Gulp</h1><article><div>how-to-build-reactjs-with-gulp</div><div>Mon Sep 19 2016 14:55:48 GMT-0500 (Central Daylight Time)</div><div><p>I wanted to play with ReactJS last week and figured I would just add another gulp talk to my build process, being that it's all the rage right now.</p>
<p>It turns out that it wasn't that simple, as it turns out that the <a href="https://www.npmjs.com/package/gulp-react"><code>gulp-react</code></a> has been "deprecated in favor of gulp-babel". I hadn't planned on learning <a href="http://babeljs.io/">Babel</a>, but it turns out it wasn't very difficult once I was able to put all the pieces together.</p>
<p>Here's what I did.</p>
<p>You can find an extended version of the code in this post in my web project's <a href="https://github.com/davidwesst/dw-www/blob/master/gulpfile.js"><code>gulpfile.js</code></a>. As of this writing, it can be found in the <code>feat/talks</code> branch but should be merged into the <a href="https://github.com/davidwesst/dw-blog"><code>master</code></a> branch  soon enough.</p>
<h2>The Gulp Task</h2>
<p>Let's start with the gulp task and I'll walk you though it step by step.</p>
<pre><code class="language-javascript">// packages 
var gulp        = require('gulp'),
    babel       = require('gulp-babel'),
    sourcemaps  = require('gulp-sourcemaps');
    
// build all the JavaScript things
gulp.task('build-script', function() {
    var src = [
        './src/script/*.js',
        './src/components/*.jsx'
        ];

    return gulp.src(src)
                .pipe(sourcemaps.init())
                .pipe(babel({
                    presets: [
                        'es2015',
                        'react'
                        ]
                    }))
                .pipe(concat('dw.js'))
                .pipe(gulp.dest('./dist/script'));
});
</code></pre>
<p>It's not overly complex, but there is a lot going on. Let me walk you though it.</p>
<h3>Dependencies</h3>
<pre><code class="language-javascript">// packages
var gulp        = require('gulp'),
    babel       = require('gulp-babel'),
    sourcemaps  = require('gulp-sourcemaps');
</code></pre>
<p>These are the packages I used in this solution. Here's the breakdown in case you don't feel like searching out each one:</p>
<ul>
<li><a href="https://www.npmjs.com/package/gulp">gulp</a> is the build tool itself</li>
<li><a href="https://www.npmjs.com/package/gulp-babel">gulp-babel</a> is the babel plugin that builds react for us</li>
<li><a href="https://www.npmjs.com/package/gulp-sourcemaps">gulp-sourcemaps</a> is a pluging that generates sourcemaps for us</li>
</ul>
<p>There are a couple of unlisted packages that you'll need as well. More specifically, the Babel preset packages. I use two:</p>
<ul>
<li><a href="https://www.npmjs.com/package/babel-preset-es2015">babel-preset-es2015</a> because writing modern JavaScript is awesome and helps with writing ReactJS code.</li>
<li><a href="https://www.npmjs.com/package/babel-preset-react">babel-preset-react</a> which does the ReactJS stuff we need</li>
</ul>
<p><strong>NOTE: You don't need the es2015 preset package, but you should use because you don't hate yourself enough to write old JavaScript</strong></p>
<h3>Pipeline</h3>
<p>Things start simple with the declaration of my source files and kicking off the gulp pipe:</p>
<pre><code class="language-javascript">var src = [
        './src/script/*.js',
        './src/components/*.jsx'
        ];

    return gulp.src(src)
</code></pre>
<p>Next up, I intialize the sourcemaps plugin</p>
<pre><code class="language-javascript">.pipe(sourcemaps.init())
</code></pre>
<p>If you're not sure what sourcemaps are, <a href="http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">look them up</a> as all the browser development tools support them and they made debugging transpiled code much easier.</p>
<p>Now, we leverage all the Babel things and do the actual transpilation.</p>
<pre><code class="language-javascript">.pipe(babel({
presets: [
    'es2015',
    'react'
]
</code></pre>
<p>At this point were piping our source code into Babel, and it applies the preset <a href="https://babeljs.io/docs/plugins/">babel plugins</a> for ES2015 and React. If you didn't include the presets earlier, you would get an error at this point so make sure they're installed.</p>
<p>Now we just write out our sourcemaps and our newly compiled JavaScript and JSX files to our output directory.</p>
<pre><code class="language-javascript">.pipe(sourcemaps.write('.'))
.pipe(gulp.dest('./dist/script'));
</code></pre>
<p>Et voila! Your gulp task transpiles your JSX and JS files. You can even use some <a href="https://babeljs.io/docs/learn-es2015/">ES2015</a> to boot.</p>
</div></article><footer><a href="/blog">Back to Post Listing</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"how-to-build-reactjs-with-gulp","htmlContent":"\u003cp\u003eI wanted to play with ReactJS last week and figured I would just add another gulp talk to my build process, being that it's all the rage right now.\u003c/p\u003e\n\u003cp\u003eIt turns out that it wasn't that simple, as it turns out that the \u003ca href=\"https://www.npmjs.com/package/gulp-react\"\u003e\u003ccode\u003egulp-react\u003c/code\u003e\u003c/a\u003e has been \"deprecated in favor of gulp-babel\". I hadn't planned on learning \u003ca href=\"http://babeljs.io/\"\u003eBabel\u003c/a\u003e, but it turns out it wasn't very difficult once I was able to put all the pieces together.\u003c/p\u003e\n\u003cp\u003eHere's what I did.\u003c/p\u003e\n\u003cp\u003eYou can find an extended version of the code in this post in my web project's \u003ca href=\"https://github.com/davidwesst/dw-www/blob/master/gulpfile.js\"\u003e\u003ccode\u003egulpfile.js\u003c/code\u003e\u003c/a\u003e. As of this writing, it can be found in the \u003ccode\u003efeat/talks\u003c/code\u003e branch but should be merged into the \u003ca href=\"https://github.com/davidwesst/dw-blog\"\u003e\u003ccode\u003emaster\u003c/code\u003e\u003c/a\u003e branch  soon enough.\u003c/p\u003e\n\u003ch2\u003eThe Gulp Task\u003c/h2\u003e\n\u003cp\u003eLet's start with the gulp task and I'll walk you though it step by step.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// packages \nvar gulp        = require('gulp'),\n    babel       = require('gulp-babel'),\n    sourcemaps  = require('gulp-sourcemaps');\n    \n// build all the JavaScript things\ngulp.task('build-script', function() {\n    var src = [\n        './src/script/*.js',\n        './src/components/*.jsx'\n        ];\n\n    return gulp.src(src)\n                .pipe(sourcemaps.init())\n                .pipe(babel({\n                    presets: [\n                        'es2015',\n                        'react'\n                        ]\n                    }))\n                .pipe(concat('dw.js'))\n                .pipe(gulp.dest('./dist/script'));\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt's not overly complex, but there is a lot going on. Let me walk you though it.\u003c/p\u003e\n\u003ch3\u003eDependencies\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// packages\nvar gulp        = require('gulp'),\n    babel       = require('gulp-babel'),\n    sourcemaps  = require('gulp-sourcemaps');\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThese are the packages I used in this solution. Here's the breakdown in case you don't feel like searching out each one:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/gulp\"\u003egulp\u003c/a\u003e is the build tool itself\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/gulp-babel\"\u003egulp-babel\u003c/a\u003e is the babel plugin that builds react for us\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/gulp-sourcemaps\"\u003egulp-sourcemaps\u003c/a\u003e is a pluging that generates sourcemaps for us\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere are a couple of unlisted packages that you'll need as well. More specifically, the Babel preset packages. I use two:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/babel-preset-es2015\"\u003ebabel-preset-es2015\u003c/a\u003e because writing modern JavaScript is awesome and helps with writing ReactJS code.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/babel-preset-react\"\u003ebabel-preset-react\u003c/a\u003e which does the ReactJS stuff we need\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE: You don't need the es2015 preset package, but you should use because you don't hate yourself enough to write old JavaScript\u003c/strong\u003e\u003c/p\u003e\n\u003ch3\u003ePipeline\u003c/h3\u003e\n\u003cp\u003eThings start simple with the declaration of my source files and kicking off the gulp pipe:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003evar src = [\n        './src/script/*.js',\n        './src/components/*.jsx'\n        ];\n\n    return gulp.src(src)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext up, I intialize the sourcemaps plugin\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e.pipe(sourcemaps.init())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you're not sure what sourcemaps are, \u003ca href=\"http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/\"\u003elook them up\u003c/a\u003e as all the browser development tools support them and they made debugging transpiled code much easier.\u003c/p\u003e\n\u003cp\u003eNow, we leverage all the Babel things and do the actual transpilation.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e.pipe(babel({\npresets: [\n    'es2015',\n    'react'\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAt this point were piping our source code into Babel, and it applies the preset \u003ca href=\"https://babeljs.io/docs/plugins/\"\u003ebabel plugins\u003c/a\u003e for ES2015 and React. If you didn't include the presets earlier, you would get an error at this point so make sure they're installed.\u003c/p\u003e\n\u003cp\u003eNow we just write out our sourcemaps and our newly compiled JavaScript and JSX files to our output directory.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e.pipe(sourcemaps.write('.'))\n.pipe(gulp.dest('./dist/script'));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEt voila! Your gulp task transpiles your JSX and JS files. You can even use some \u003ca href=\"https://babeljs.io/docs/learn-es2015/\"\u003eES2015\u003c/a\u003e to boot.\u003c/p\u003e\n","layout":"post","title":"How to Build ReactJS with Gulp","categories":["JavaScript"],"date":"Mon Sep 19 2016 14:55:48 GMT-0500 (Central Daylight Time)","tags":["ReactJS","Gulp","JavaScript","Babel"],"excerpt":"I started to tinker with React last week and needed to do some digging on how to transpile the React JSX files using Gulp. In this post, we walkthrough my newly updated Gulp task that transpiles JSX and JavaScript files.","authorId":"david_wesst","originalurl":"https://blog.davidwesst.com/2016/09/How-to-Build-ReactJS-with-Gulp/"}},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"how-to-build-reactjs-with-gulp"},"buildId":"-9wn_hi6_-Q32OgH9YOcv","assetPrefix":"https://www.davidwesst.com","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="https://www.davidwesst.com/_next/static/runtime/polyfills-10c88b4b028d13fe33de.js"></script><script async="" data-next-page="/_app" src="https://www.davidwesst.com/_next/static/-9wn_hi6_-Q32OgH9YOcv/pages/_app.js"></script><script async="" data-next-page="/blog/[id]" src="https://www.davidwesst.com/_next/static/-9wn_hi6_-Q32OgH9YOcv/pages/blog/%5Bid%5D.js"></script><script src="https://www.davidwesst.com/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="https://www.davidwesst.com/_next/static/chunks/framework.e84fa698c7ee940652bd.js" async=""></script><script src="https://www.davidwesst.com/_next/static/chunks/commons.7c101d7f1672b68d7c1c.js" async=""></script><script src="https://www.davidwesst.com/_next/static/runtime/main-98aa3916935decc0cde3.js" async=""></script><script src="https://www.davidwesst.com/_next/static/-9wn_hi6_-Q32OgH9YOcv/_buildManifest.js" async=""></script><script src="https://www.davidwesst.com/_next/static/-9wn_hi6_-Q32OgH9YOcv/_ssgManifest.js" async=""></script></body></html>